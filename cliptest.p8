pico-8 cartridge // http://www.pico-8.com
version 36
__lua__
-- cliptest
-- by morganquirk

#include engine1.lua

local model_rocket2 = [[1.25,0.75,0.25/1.25,0.75,-0.25/1.25,0.00,-0.75/1.25,-0.75,-0.50/1.25,-0.75,0.50/1.25,0.00,0.75/-1.00,0.75,0.25/-1.00,0.75,-0.25/-1.00,0.00,-0.75/-1.00,-0.75,-0.50/-1.00,-0.75,0.50/-1.00,0.00,0.75/-2.25,0.25,0.00/-2.25,0.25,0.00/-2.25,0.00,0.25/-2.25,-0.25,0.25/-2.25,-0.25,-0.25/-2.25,0.00,-0.25/-1.00,-0.25,1.50/-0.25,-0.25,1.00/-1.00,-0.25,0.75/-0.25,-0.25,0.75/1.00,1.25,0.00/2.25,1.25,0.00/0.50,0.75,0.00/1.50,0.50,0.00/-1.00,-0.25,-0.75/-0.25,-0.25,-0.75/-1.00,-0.25,-1.50/-0.25,-0.25,-1.00
6,5,4/6,4,3/6,3,2/6,2,1/3,9,8/3,8,2/4,10,9/4,9,3/5,11,10/5,10,4/11,5,6/11,6,12/1,7,12/1,12,6/2,8,7/2,7,1/14,7,8/14,8,13/15,12,7/15,7,14/16,11,12/16,12,15/17,10,11/17,11,16/18,9,10/18,10,17/13,8,9/13,9,18/18,17,16/18,16,15/18,15,14/18,14,13/19,20,22/19,22,21/23,24,26/23,26,25/26,24,23/25,26,23/27,28,30/27,30,29]]

local models = {}

function _init()
    cam = {
            pos={0,0.5,1.8,1},
            angles={0,0,0},
            fwd={0,0,-1,1},
    }
    local r = deserialize_model(model_rocket2, 0.65)
    for j = 1, #r.triangles do
        r.triangles[j].color_num = 2
    end
    for j = 33, 40 do
        r.triangles[j].color_num = 0
    end
    add(models, r)
    rocket = r
end

tf = 0
function _update()
    tf += 1
    rocket.rotation = m_rot_xyz(0, tf / 100, 0)
    rocket.update_points()
    if btn(2) then
        cam.pos[3] = cam.pos[3] - 0.1
    end
    if btn(3) then
        cam.pos[3] = cam.pos[3] + 0.1
    end
end

function _draw()
    cls()
    render(models, {}, cam, 128, 128, 6, 7, {})
end
__gfx__
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
28888ee7000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
05600500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1dddccc7000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
05005000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
44999aaa000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00500500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
5dd66677000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
05050050000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
33bbbba7000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
50500050000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
8888eeee000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00005000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
